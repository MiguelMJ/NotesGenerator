\documentclass{article}

\usepackage[utf8]{inputenc} % UNICODE INPUT
\usepackage[english]{babel} % LANGUAGE
\usepackage{minitoc}    % TABLES OF CONTENTS FOR SECTIONS
\usepackage{pifont}     % FOR THE HAND GLYPH
\usepackage{listings}   % FOR CODE SYNTAX HIGHLIGHT
\usepackage{xcolor}     % MORE COLOR
\usepackage{perpage}    % FOR FOOTNOTES NUMBERING
\usepackage{tikz}       % GRAPHS AND DRAWINGS
\usepackage{forest}     % FOR SCHEMES
\usepackage[hidelinks]{hyperref} % FOR LINKS
\usepackage{bookmark}   % FOR LINKS IN TOC
\usepackage{appendix}   % FOR THE GLOSSARY
\usepackage{enumitem}   % TO CHANGE ITEMS IN ITEMIZES
\usepackage{multicol}   % TO SEPARATE TEXT IN COLUMNS

% SOME COLORS DEFINED

\definecolor{gray}{rgb}{0.5,0.5,0.5}

\definecolor{fixme}{rgb}{1,0,0}
\definecolor{string}{rgb}{0,0.6,0}
\definecolor{comment}{rgb}{0.5,0.5,0.5}
\definecolor{number}{rgb}{0.25,0.25,0.25}
\definecolor{background}{rgb}{0.95,0.95,0.95}
\definecolor{framecolor}{rgb}{0.5,0.5,0.5}
\definecolor{keyword}{rgb}{0,0,0.6}

% STYLE FOR CODE

\lstset{
    backgroundcolor=\color{background},
    frame=l,
    rulecolor=\color{framecolor},
    numbers=left,
    numberstyle=\scriptsize\color{number},
    numbersep=6pt,
    aboveskip=3mm,
    belowskip=3mm,
    basicstyle={\small\ttfamily},
    showstringspaces=false,
    keywordstyle=\color{keyword},
    commentstyle=\color{comment},
    stringstyle=\color{string},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3,
    extendedchars=true,
    literate={á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1 {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
    }

    
% STYLE FOR SCHEMES

\usetikzlibrary{decorations.pathreplacing}
\forestset{
    forest scheme/.style={
        for tree={
            grow'=0,
            anchor=west,
            align=left,
            if n=1{%
            edge path={
                \noexpand\path [\forestoption{edge}] (!ul.south west) -- (!u1.north west)\forestoption{edge label};
            }
            }{no edge},
            edge={decorate, decoration={brace}},
        },
    }
}

% STYLE FOR GRAPHS

\usetikzlibrary{arrows.meta}

\tikzset{simple/.style={black, draw=black, circle, minimum size=0.5cm}}
\tikzset{emph/.style={black,draw=red, circle,minimum size=0.5cm}}
\tikzset{more emph/.style={red,draw=red, circle,minimum size=0.5cm}}

\tikzset{final/.style={black,draw=black, circle, double, double distance=1.5pt, minimum size=0.5cm}}
\tikzset{final emph/.style={black,draw=red, circle, double, double distance=1.5pt, minimum size=0.5cm}}
\tikzset{final more emph/.style={red,draw=red, circle, double, double distance=1.5pt, minimum size=0.5cm}}

\tikzset{dir/.style={-{Latex[length=3mm]}}}
\tikzset{diremph/.style={red,-{Latex[length=3mm]}}}

\tikzset{dirop/.style={{Latex[length=3mm]}-}}
\tikzset{diropemph/.style={red,{Latex[length=3mm]}-}}

% MINOR OPTIONS

\MakePerPage{footnote}
\reversemarginpar

% TOC FOR SECTIONS SETUP 

\setcounter{tocdepth}{2}

\dosecttoc
\setcounter{secttocdepth}{3}
\mtcsettitle{secttoc}{}

% COMMANDS FOR UNIFYING STYLE

\setlength{\parindent}{0pt} % NO MORE INDENTATION
\newcommand{\unit}[1]{\newpage\section{#1}\secttoc}
\newcommand{\unitsection}[1]{\subsection{#1}}
\newcommand{\unitsubsection}[1]{\subsubsection{#1}}


\newcommand{\fixme}{
            \marginpar{
                    \center
                    \scriptsize
                    \color{fixme}{
                        \textbf{FIX ME}\\
                    }
                \Large\ding{43}
            }
            {\color{fixme}(!)}
        }

\newcommand{\codelan}[1]{ lstset{language=#1} }
\newcommand{\codeword}[1]{\colorbox{background}{\small\texttt{#1}}}

% PARAMETERS SET BY NOG (BY DEFAULT OR WITH OPTIONS)

\title{Notes}
\author{Your name}
\date{}

%%  CODE GENERATED BY THE PREPROCESSOR. IT MAY OVERRIDE THE OPTIONS ABOVE

\newcommand{\myindex}{
\tableofcontents}
\newcommand{\myglossary}{
}
\newcommand{\fixmelist}{
}
\newcommand{\keyword}[1]{\marginpar{
            \center
            \scriptsize
            \uppercase{#1}\\
            \Large\ding{43}
        }
        \glossary{name={#1}}
        \textbf{#1}}

%% END OF PREPROCESSOR CODE

\begin{document}
\maketitle
\tableofcontents

\newpage
\section{Literature and code}
\settoc
This is a example unit. We wil use two languages:

\begin{enumerate}
\item \textbf{ Python}: Fast production, slow execution.  
\item \textbf{ Java}: Slow production, optimum portability.
\end{enumerate}

\subsection{Shakespeare code}

In this short example I will show some \keyword{english}\label{kw:english} code.


\lstset{language=Python}
\begin{lstlisting}
msg = 'To be or not to be'
print(msg)
\end{lstlisting}

\begin{center}

Isn't it \textit{pretty}?

\end{center}

\unitsection{Cervantes code}

Now, it's time for some \keyword{spanish}\label{kw:spanish} code.


\lstset{language=Java}
\begin{lstlisting}
String msg = "En un lugar de La Mancha";
System.out.println(msg);
\end{lstlisting}

\newpage

\begin{appendices}

\section{KEY WORDS}

\noindent\textbf{Literature and code
}
\begin{multicols}{3}
\begin{itemize}[label={}]
    \item \hyperref[kw:english]{english, \pageref*{kw:english}}
    \item \hyperref[kw:spanish]{spanish, \pageref*{kw:spanish}}
\end{itemize}
\end{multicols}

\end{appendices}

\end{document}
