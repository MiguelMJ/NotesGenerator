\documentclass{article}

\usepackage[utf8]{inputenc} % UNICODE INPUT
\usepackage[english]{babel} % LANGUAGE
\usepackage[left=3cm,
            right=2cm,
            top=1.5cm,
            bottom=1.5cm,
            marginparwidth=2.75cm,
            marginparsep=0.25cm]
            {geometry}  % FORMATTING
\usepackage{minitoc}    % TABLES OF CONTENTS FOR SECTIONS
\usepackage{pifont}     % FOR THE HAND GLYPH
\usepackage{listings}   % FOR CODE SYNTAX HIGHLIGHT
\usepackage{xcolor}     % MORE COLOR
\usepackage{perpage}    % FOR FOOTNOTES NUMBERING
\usepackage{tikz}       % GRAPHS AND DRAWINGS
\usepackage{forest}     % FOR SCHEMES
\usepackage[hidelinks]{hyperref} % FOR LINKS
\usepackage{bookmark}   % FOR LINKS IN TOC
\usepackage{appendix}   % FOR THE GLOSSARY
\usepackage{enumitem}   % TO CHANGE ITEMS IN ITEMIZES
\usepackage{multicol}   % TO SEPARATE TEXT IN COLUMNS

% SOME COLORS DEFINED

\definecolor{gray}{rgb}{0.5,0.5,0.5}

\definecolor{fixme}{rgb}{1,0,0}
\definecolor{string}{rgb}{0,0.6,0}
\definecolor{comment}{rgb}{0.5,0.5,0.5}
\definecolor{number}{rgb}{0.25,0.25,0.25}
\definecolor{background}{rgb}{0.95,0.95,0.95}
\definecolor{framecolor}{rgb}{0.5,0.5,0.5}
\definecolor{keyword}{rgb}{0,0,0.6}

% STYLE FOR CODE

\lstset{
    backgroundcolor=\color{background},
    frame=l,
    rulecolor=\color{framecolor},
    numbers=left,
    numberstyle=\scriptsize\color{number},
    numbersep=6pt,
    aboveskip=3mm,
    belowskip=3mm,
    basicstyle={\small\ttfamily},
    showstringspaces=false,
    keywordstyle=\color{keyword},
    commentstyle=\color{comment},
    stringstyle=\color{string},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3
    }

% STYLE FOR SCHEMES

\usetikzlibrary{decorations.pathreplacing}
\forestset{
    forest scheme/.style={
        for tree={
            grow'=0,
            anchor=west,
            align=left,
            if n=1{%
            edge path={
                \noexpand\path [\forestoption{edge}] (!ul.south west) -- (!u1.north west)\forestoption{edge label};
            }
            }{no edge},
            edge={decorate, decoration={brace}},
        },
    }
}

% STYLE FOR GRAPHS

\usetikzlibrary{arrows.meta}

\tikzset{simple/.style={black, draw=black, circle, minimum size=0.5cm}}
\tikzset{emph/.style={black,draw=red, circle,minimum size=0.5cm}}
\tikzset{more emph/.style={red,draw=red, circle,minimum size=0.5cm}}

\tikzset{final/.style={black,draw=black, circle, double, double distance=1.5pt, minimum size=0.5cm}}
\tikzset{final emph/.style={black,draw=red, circle, double, double distance=1.5pt, minimum size=0.5cm}}
\tikzset{final more emph/.style={red,draw=red, circle, double, double distance=1.5pt, minimum size=0.5cm}}

\tikzset{dir/.style={-{Latex[length=3mm]}}}
\tikzset{diremph/.style={red,-{Latex[length=3mm]}}}

\tikzset{dirop/.style={{Latex[length=3mm]}-}}
\tikzset{diropemph/.style={red,{Latex[length=3mm]}-}}

% MINOR OPTIONS

\MakePerPage{footnote}
\reversemarginpar

% TOC FOR SECTIONS SETUP 

\setcounter{tocdepth}{2}

\dosecttoc
\setcounter{secttocdepth}{3}
\mtcsettitle{secttoc}{}

% COMMANDS FOR UNIFYING STYLE

\setlength{\parindent}{0pt} % NO MORE INDENTATION
\newcommand{\unit}[1]{\newpage\section{#1}\secttoc}
\newcommand{\unitsection}[1]{\subsection{#1}}
\newcommand{\unitsubsection}[1]{\subsubsection{#1}}

\newcommand{\keyword}[1]{\marginpar{
            \center
            \scriptsize
            \uppercase{#1}\\
            \Large\ding{43}
        }
        \glossary{name={#1}}
        \textbf{#1}}
\newcommand{\fixme}{
            \marginpar{
                    \center
                    \scriptsize
                    \color{fixme}{
                        \textbf{FIX ME}\\
                    }
                \Large\ding{43}
            }
            {\color{fixme}(!)}
        }

\newcommand{\codelan}[1]{ lstset{language=#1} }
\newcommand{\codeword}[1]{\colorbox{background}{\small\texttt{#1}}}

% PARAMETERS SET BY NOG (BY DEFAULT OR WITH OPTIONS)

\title{Example Notes}
\author{Miguel M. J.}
\date{}

%%  CODE GENERATED BY THE PREPROCESSOR. IT MAY OVERRIDE THE OPTIONS ABOVE



\usepackage{amssymb}

\newcommand{\myindex}{
\tableofcontents}
\newcommand{\myglossary}{
    \textbf{First unit
}
    \begin{multicols}{3}
    \begin{itemize}[label={}]
        \item \hyperref[kw:code]{code, \pageref*{kw:code}}
        \item \hyperref[kw:imported]{imported, \pageref*{kw:imported}}
        \item \hyperref[kw:embedded]{embedded, \pageref*{kw:embedded}}
    \end{itemize}
    \end{multicols}
}
\newcommand{\fixmelist}{
}

%% END OF PREPROCESSOR CODE

\begin{document}
    \maketitle
    \myindex


\unit{First unit}

In this unit we will be talking about \keyword{code}\label{kw:code} !

\unitsection{Our first code}

The following code is \keyword{imported}\label{kw:imported} from \codeword{helloworld.cpp}


\lstset{language=C++}
\begin{lstlisting}
#include <iostream>

using namespace std;

int main(){
    cout << "Hello world" << endl;
    return 0;
}

\end{lstlisting}

No we will import from \codeword{nonexistingfile.js}

\fixme\label{fixme0} nonexistingfile.js not found
\begin{lstlisting}

\end{lstlisting}

\unitsection{Now another language}

This code is not imported but \keyword{embedded}\label{kw:embedded}.


\lstset{language=Java}
\begin{lstlisting}

static void main (String[] args){
    System.out.println("Hello world")
}
\end{lstlisting}

\unit{Second unit}

This unit has no sections, so it has no table of content.

Lets define the \textit{absolute value} function:

$$
abs(x) = \left\{\begin{array}{lll}
    x & if x > 0\\
    -x & if x \Leftarrow  0
\end{array}\right.
$$

Some examples of the function:

\begin{center}

\begin{tabular}{c c c c}

 $abs$: & $\mathbb{R}$ & $\rightarrow$  & $\mathbb{R}$  \\

\hspace{5 mm}& 3 & $\rightarrow$  & 3  \\ 

\hspace{5 mm}& -5 & $\rightarrow$  & 5  \\

\end{tabular}

\end{center}



\newpage

\begin{appendices}

\section{Glossary}
\noindent\myglossary


\section{To fix}
\noindent\fixmelist

\end{appendices}

\end{document}
